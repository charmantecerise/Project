
## Описание задачи

Цель задачи — на основе временного ряда создать новый признак, отражающий **количество значений, превышающих среднее значение в пределах каждого скользящего окна**.

Решение основано на коде **DA-1-37**, но расширено новой функцией расчёта признака и построением графика, который визуализирует динамику исходных данных, скользящего среднего и количества превышений.

---

## ️ Логика решения

1. **Создание временного ряда** (синтетического или из файла).  
2. **Вычисление скользящего среднего** для заданного размера окна.  
3. **Подсчёт количества значений > среднего** в каждом окне.  
4. **Добавление признака в DataFrame.**  
5. **Построение графика**, отражающего динамику всех трёх параметров.

---

## Структура скрипта

Файл `da-2-28.py` состоит из следующих функций:

| Функция | Назначение |
|----------|-------------|
| `create_synthetic_series()` | Создаёт синтетический временной ряд |
| `calculate_features()` | Вычисляет скользящее среднее и количество значений выше среднего |
| `build_graph()` | Строит и сохраняет график |
| `main()` | Обрабатывает аргументы командной строки и управляет выполнением |

---

##  Пример запуска

```bash
python da-2-28.py -n 100 -w 7 -s 2025-01-01 -o results --format pdf
```

---
## Пример результата

График содержит три линии:

- Исходные данные — значения временного ряда.

- Скользящее среднее — сглаженный тренд.

- Количество > среднего — динамика превышений по окну.

---

## Пример выходных данных
| date       | value | rolling_mean | 	count_above_mean |
|------------|-------|------|-----|
| 2024-01-01 | 52 | 52.0 | 0.0 |
| 2024-01-02 | 93 | 72.5 | 1.0 |
| 2024-01-03 | 15 | 53.3 | 1.0 |
| 2024-01-04 | 72| 58.0 | 	2.0 |
| 2024-01-05 |	61  | 58.6 | 3.0 |