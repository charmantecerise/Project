## üìå –û–ø–∏—Å–∞–Ω–∏–µ
–°–∫—Ä–∏–ø—Ç –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –∏–ª–∏ –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –Ω–∞ –≤—Ö–æ–¥ –≤–∏–¥–µ–æ —Å –¥–≤–∏–∂—É—â–∏–º–∏—Å—è —Ñ–∏–≥—É—Ä–∞–º–∏, –¥–µ—Ç–µ–∫—Ç–∏—Ä—É–µ—Ç –æ–±—ä–µ–∫—Ç—ã –Ω–∞ –∫–∞–¥—Ä–∞—Ö, –∫–ª–∞—Å—Å–∏—Ñ–∏—Ü–∏—Ä—É–µ—Ç –∏—Ö –ø–æ —Ñ–æ—Ä–º–µ –∏ —Ü–≤–µ—Ç—É, —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –∏ —Å—Ç—Ä–æ–∏—Ç –≥—Ä–∞—Ñ–∏–∫–∏.

## –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Å–∏–Ω—Ç–µ—Ç–∏—á–µ—Å–∫–æ–≥–æ –≤–∏–¥–µ–æ —Å –¥–≤–∏–∂—É—â–∏–º–∏—Å—è —Ñ–∏–≥—É—Ä–∞–º–∏ (--generate).

- –î–µ—Ç–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–±—ä–µ–∫—Ç–æ–≤ —á–µ—Ä–µ–∑ –±–∏–Ω–∞—Ä–∏–∑–∞—Ü–∏—é + –∫–æ–Ω—Ç—É—Ä—ã.

- –ö–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è —Ñ–æ—Ä–º—ã: circle, rectangle, other.

- –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ü–≤–µ—Ç–∞ –æ–±—ä–µ–∫—Ç–∞ –ø–æ HSV –≤ —Ç–æ—á–∫–µ —Ü–µ–Ω—Ç—Ä–∞ –∫–æ–Ω—Ç—É—Ä–∞.

- –°–±–æ—Ä –ø–æ—Å—Ç—Ä–æ—á–Ω–æ–π —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –ø–æ –∫–∞–¥—Ä–∞–º –∏ –∏—Ç–æ–≥–æ–≤–æ–π summary.

- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –≤ CSV –∏ JSON.

- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∞–Ω–Ω–æ—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –≤–∏–¥–µ–æ.

## –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç / –ø—Ä–∏–º–µ—Ä—ã –∑–∞–ø—É—Å–∫–∞

1) –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å —Å–∏–Ω—Ç–µ—Ç–∏—á–µ—Å–∫–æ–µ –≤–∏–¥–µ–æ –∏ –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å –µ–≥–æ
python conveyor_inspection.py --generate --out-video annotated.mp4 --out-stats-csv stats.csv --out-stats-json stats.json --out-figures-dir results

2) –û–±—Ä–∞–±–æ—Ç–∞—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–µ –≤–∏–¥–µ–æ
python conveyor_inspection.py --input path/to/video.mp4 --out-video annotated.mp4 --out-stats-csv stats.csv --out-stats-json stats.json --out-figures-dir results

3) –ü–æ–∫–∞–∑–∞—Ç—å –æ–∫–Ω–æ —Å –∞–Ω–Ω–æ—Ç–∞—Ü–∏—è–º–∏ –≤–æ –≤—Ä–µ–º—è –æ–±—Ä–∞–±–æ—Ç–∫–∏
python conveyor_inspection.py --generate --show


–ù–∞–∂–º–∏—Ç–µ ESC –≤ –æ–∫–Ω–µ, —á—Ç–æ–±—ã –ø—Ä–µ—Ä–≤–∞—Ç—å –ø—Ä–æ—Å–º–æ—Ç—Ä.

## –ê—Ä–≥—É–º–µ–Ω—Ç—ã –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏

- input             - –ø—É—Ç—å –∫ –≤—Ö–æ–¥–Ω–æ–º—É –≤–∏–¥–µ–æ. –ï—Å–ª–∏ –Ω–µ —É–∫–∞–∑–∞–Ω ‚Äî –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è —Å–∏–Ω—Ç–µ—Ç–∏–∫–∞ (–µ—Å–ª–∏ –∑–∞–¥–∞–Ω --generate).
- generate          - –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å —Å–∏–Ω—Ç–µ—Ç–∏—á–µ—Å–∫–æ–µ –≤–∏–¥–µ–æ (–∏–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç --input).
- out-video         - –ø—É—Ç—å –¥–ª—è –∞–Ω–Ω–æ—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –≤–∏–¥–µ–æ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ). (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: annotated_output.mp4)
- out-stats-csv     - CSV —Ñ–∞–π–ª —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ (–ø–æ –∫–∞–¥—Ä–∞–º). (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: stats.csv)
- out-stats-json    - JSON —Ñ–∞–π–ª —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ (frames + summary). (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: stats.json)
- out-figures-dir   - –ø–∞–ø–∫–∞ –¥–ª—è –≥—Ä–∞—Ñ–∏–∫–æ–≤ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: results)
- width             - —à–∏—Ä–∏–Ω–∞ —Å–∏–Ω—Ç–µ—Ç–∏—á–µ—Å–∫–æ–≥–æ –≤–∏–¥–µ–æ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: 640)
- height            - –≤—ã—Å–æ—Ç–∞ —Å–∏–Ω—Ç–µ—Ç–∏—á–µ—Å–∫–æ–≥–æ –≤–∏–¥–µ–æ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: 480)
- fps               - FPS –¥–ª—è —Å–∏–Ω—Ç–µ—Ç–∏—á–µ—Å–∫–æ–≥–æ –≤–∏–¥–µ–æ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: 25)
- duration          - –¥–ª–∏–Ω–∞ —Å–∏–Ω—Ç–µ—Ç–∏—á–µ—Å–∫–æ–≥–æ –≤–∏–¥–µ–æ –≤ —Å–µ–∫—É–Ω–¥–∞—Ö (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: 8)
- min-area          - –º–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –ø–ª–æ—â–∞–¥—å –∫–æ–Ω—Ç—É—Ä–∞ –¥–ª—è —É—á—ë—Ç–∞ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: 200)
- thresh            - –ø–æ—Ä–æ–≥ –±–∏–Ω–∞—Ä–∏–∑–∞—Ü–∏–∏ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: 200)
- show              - –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –æ–∫–Ω–æ —Å –∞–Ω–Ω–æ—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–º–∏ –∫–∞–¥—Ä–∞–º–∏ (—Ñ–ª–∞–≥)

## –§–æ—Ä–º–∞—Ç –≤—ã—Ö–æ–¥–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤

CSV (--out-stats-csv) ‚Äî –ø–æ—Å—Ç—Ä–æ—á–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –∫–∞–¥—Ä–∞–º:

frame, total_objects, circles, rectangles, others

JSON (--out-stats-json) ‚Äî –¥–µ—Ç–∞–ª—å–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞:

frames: —Å–ø–∏—Å–æ–∫ —Å–ª–æ–≤–∞—Ä–µ–π (–∫–∞–∫ –≤ CSV) + by_shape_color –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∫–∞–¥—Ä–∞

summary: –∏—Ç–æ–≥ –ø–æ —Ñ–æ—Ä–º–∞–º –∏ —Ä–∞–∑–±–∏–µ–Ω–∏–µ –ø–æ —Ü–≤–µ—Ç–∞–º

–ê–Ω–Ω–æ—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –≤–∏–¥–µ–æ (--out-video) ‚Äî –∫–∞–¥—Ä—ã —Å –Ω–∞—Ä–∏—Å–æ–≤–∞–Ω–Ω—ã–º–∏ –∫–æ–Ω—Ç—É—Ä–∞–º–∏ –∏ —Ç–µ–∫—Å—Ç–æ–≤—ã–º–∏ –º–µ—Ç–∫–∞–º–∏

–ì—Ä–∞—Ñ–∏–∫–∏ (--out-figures-dir):

{prefix}_by_shape.png ‚Äî bar chart –ø–æ —Ñ–æ—Ä–º–∞–º

{prefix}_by_color.png ‚Äî pie chart –ø–æ —Ü–≤–µ—Ç–∞–º

## –ü—Ä–∏–Ω—Ü–∏–ø —Ä–∞–±–æ—Ç—ã (–∫–æ—Ä–æ—Ç–∫–æ)

- –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —Å–∏–Ω—Ç–µ—Ç–∏—á–µ—Å–∫–æ–µ –≤–∏–¥–µ–æ —Å –¥–≤–∏–∂—É—â–∏–º–∏—Å—è –∫—Ä—É–≥–∞–º–∏/–ø—Ä—è–º–æ—É–≥–æ–ª—å–Ω–∏–∫–∞–º–∏.

- –ß–∏—Ç–∞–µ—Ç –≤–∏–¥–µ–æ –∫–∞–¥—Ä –∑–∞ –∫–∞–¥—Ä–æ–º ‚Üí grayscale + blur ‚Üí –±–∏–Ω–∞—Ä–∏–∑–∞—Ü–∏—è (–∏–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø–æ—Ä–æ–≥) ‚Üí –º–æ—Ä—Ñ–æ–ª–æ–≥–∏—è.

- –ù–∞—Ö–æ–¥–∏—Ç –∫–æ–Ω—Ç—É—Ä—ã, —Ñ–∏–ª—å—Ç—Ä—É–µ—Ç –ø–æ –ø–ª–æ—â–∞–¥–∏ --min-area.

–î–ª—è –∫–∞–∂–¥–æ–≥–æ –∫–æ–Ω—Ç—É—Ä–∞:

- –≤—ã—á–∏—Å–ª—è–µ—Ç —Ñ–æ—Ä–º—É (circle, rectangle, other) –ø–æ circularity –∏ –∞–ø–ø—Ä–æ–∫—Å–∏–º–∞—Ü–∏–∏ –ø–æ–ª–∏–≥–æ–Ω–æ–º;

- –Ω–∞—Ö–æ–¥–∏—Ç —Ü–µ–Ω—Ç—Ä –º–∞—Å—Å –∫–æ–Ω—Ç—É—Ä–∞ –∏ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Ü–≤–µ—Ç –≤ HSV (–ø–æ –ø—Ä–µ–¥–æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã–º –¥–∏–∞–ø–∞–∑–æ–Ω–∞–º);

- –∞–Ω–Ω–æ—Ç–∏—Ä—É–µ—Ç –∫–∞–¥—Ä –∏ –æ–±–Ω–æ–≤–ª—è–µ—Ç —Å—á—ë—Ç—á–∏–∫–∏.

–°–æ—Ö—Ä–∞–Ω—è–µ—Ç per-frame —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –≤ CSV –∏ JSON, –∏—Ç–æ–≥–æ–≤—ã–π summary, –∞–Ω–Ω–æ—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –≤–∏–¥–µ–æ (–µ—Å–ª–∏ —É–∫–∞–∑–∞–Ω–æ) –∏ –≥—Ä–∞—Ñ–∏–∫–∏.

## –ü–æ–¥–±–æ—Ä –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –∏ —Ç–æ–Ω–∫–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞

--thresh –∏ --min-area ‚Äî –∫–ª—é—á–µ–≤—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ —à—É–º–∞ –∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–≥–æ –≤—ã–¥–µ–ª–µ–Ω–∏—è –æ–±—ä–µ–∫—Ç–æ–≤. –ü–æ–¥–±–∏—Ä–∞—Ç—å –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –∫–æ–Ω—Ç—Ä–∞—Å—Ç–∞ –∏ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è –≤–∏–¥–µ–æ.

–î–∏–∞–ø–∞–∑–æ–Ω—ã —Ü–≤–µ—Ç–æ–≤ (HSV) –∑–∞–¥–∞–Ω—ã –≤ –∫–æ–¥–µ (—Å–ª–æ–≤–∞—Ä—å DEFAULT_COLOR_RANGES). –î–ª—è —Ä–µ–∞–ª—å–Ω–æ–≥–æ –æ—Å–≤–µ—â–µ–Ω–∏—è –º–æ–∂–µ—Ç –ø–æ—Ç—Ä–µ–±–æ–≤–∞—Ç—å—Å—è –∫–∞–ª–∏–±—Ä–æ–≤–∫–∞.

–ï—Å–ª–∏ –æ–±—ä–µ–∫—Ç—ã –Ω–∞–∫–ª–∞–¥—ã–≤–∞—é—Ç—Å—è/—Å–∫–ª–µ–∏–≤–∞—é—Ç—Å—è –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤–∏–¥–µ–æ ‚Äî —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è —É–ª—É—á—à–∏—Ç—å —Å–µ–≥–º–µ–Ω—Ç–∞—Ü–∏—é (background subtraction, adaptive threshold –∏–ª–∏ –∞–ª–≥–æ—Ä–∏—Ç–º—ã –≥–ª—É–±–æ–∫–æ–≥–æ –æ–±—É—á–µ–Ω–∏—è).

## –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –∏ —É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å

–°–∫—Ä–∏–ø—Ç –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å –≤—Ö–æ–¥–Ω–æ–≥–æ –ø—É—Ç–∏ –∏ —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å –æ—Ç–∫—Ä—ã—Ç—å –≤–∏–¥–µ–æ.

–í—Å–µ —Ä–µ—Å—É—Ä—Å—ã (VideoWriter, VideoCapture) –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ—Å–≤–æ–±–æ–∂–¥–∞—é—Ç—Å—è (–≤ finally).

–ü—Ä–∏ –æ—à–∏–±–∫–∞—Ö –∑–∞–ø–∏—Å–∏ CSV/JSON –≤—ã–≤–æ–¥—è—Ç—Å—è —Å–æ–æ–±—â–µ–Ω–∏—è –≤ stderr, –æ—Å–Ω–æ–≤–Ω–æ–π –ø—Ä–æ—Ü–µ—Å—Å –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –∑–∞–≤–µ—Ä—à–∏—Ç—Å—è.

–î–ª—è –æ—Ç–ª–∞–¥–∫–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ --show –∏ –ø–æ–¥–±–∏—Ä–∞–π—Ç–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –ø–æ—à–∞–≥–æ–≤–æ.
